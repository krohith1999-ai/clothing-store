# Render blueprint: deploy the Spring Boot backend from the backend/ directory.
# In Render dashboard: New > Blueprint > Connect repo, or create Web Service and set below manually.

services:
  - type: web
    name: clothing-store-api
    runtime: java
    # Root directory so Render runs build/start from backend/
    rootDir: backend
    buildCommand: ./mvnw -B package -DskipTests
    startCommand: java -jar target/clothing-store-api-1.0.0.jar
    envVars:
      - key: SPRING_PROFILES_ACTIVE
        value: supabase
      # Add in Render dashboard: SUPABASE_DB_URL, SUPABASE_DB_USER, SUPABASE_DB_PASSWORD (or use application-supabase.properties via env).
      # Add: APP_CORS_ALLOWED_ORIGINS = https://your-frontend.vercel.app
